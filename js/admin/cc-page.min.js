!function($){jQuery.fn.CTCTHide=function(t){"undefined"==typeof t&&(t="fast"),this.fadeOut(t,function(){$(this).addClass("idx-closed")})},jQuery.fn.CTCTShow=function(t){"undefined"==typeof t&&(t="fast"),this.fadeIn(t,function(){$(this).removeClass("idx-closed")})}}(jQuery),jQuery(document).ready(function($){function t(t){return t.preventDefault(),$(this).focus().select(),!1}function e(t){"undefined"!=typeof CTCT&&CTCT&&CTCT.pointers&&CTCT.pointers.pointers&&CTCT.pointers.pointers.forEach(function(t,e,a){n(t)})}function n(t){hide_pointers=$.cookie("ctct_hide_pointers"),hide_pointers_array=hide_pointers?hide_pointers.split(/,/):new Array,$.inArray(t.pointer_id,hide_pointers_array)>=0||(options=$.extend(t.options,{close:function(e){hide_pointers_array.push(t.pointer_id),$.cookie("ctct_hide_pointers",hide_pointers_array.join(",")),$.post(ajaxurl,{pointer:t.pointer_id,action:"dismiss-wp-pointer"})}}),$(t.target).data("pointer_id",t.pointer_id).pointer(options),$(t.target).pointer($(t.target).is(":visible")?"open":"destroy"))}function a(){var t=$("input[name=_wp_http_referer]",".toplevel_page_constant-contact-api");t.length&&t.val(t.val().replace(/(#.+)$/gi,"")+document.location.hash)}function i(t,e){var n="undefined"!=typeof CTCT&&CTCT.id?CTCT.id:e.data("id"),a=e.data("name")?e.data("name"):t.field,i=e.data("parent")?e.data("parent"):t.parent,o=$.ajax({data:{action:"ctct_ajax",_wpnonce:CTCT._wpnonce,value:t.value,id:n,async:!0,component:CTCT.component,field:a,parent:i,isLocal:!0,type:"POST"}}),r=$.parseJSON(o.responseText);return 400===parseInt(r.code,10)?(e.effect("highlight",{color:"red"},2e3),alertify.alert("<h3>The request failed.</h3><p>Error "+r.code+": "+r.message[0].error_message.replace(/^.*?:/gi,"")+"</p>"),!1):(alertify.log(r.message),!0)}function o(t,e){var n="fast";if("object"!=typeof e||"save-widget"!==e.type&&"ctct_ready"!==e.type||(n=0),t.attr("rel")&&""!==t.attr("rel")){var a=t.attr("rel"),i=t.parents(".form-table").length?"tr":"div.ctct_setting",o=t.is(":checked"),r=t.is(":visible"),s=$(".toggle_"+a);o&&r||o&&t.parents(".widget").length>0?"radio"===t.attr("type")?$(".constant-contact-api-toggle",t.parents(i)).each(function(){var t=$(".toggle_"+$(this).attr("rel")),e=t.parents(i).removeClass("ctct-closed");"false"!==$(this).attr("rel")&&t.not(".toggle_"+a).parents(i).hide().addClass("ctct-closed"),e.not(".ctct-closed").CTCTShow(n)}):(t.attr("rel",!1),s.each(function(){var t=$(this),e=!0,a=$(this).attr("class").match(/(toggle_.*?\b)+/gi);a&&!$("body").hasClass("widgets-php")&&$.each(a,function(t,n){var a=$("input[rel="+n.replace("toggle_","")+"]");a.length>0&&!a.attr("checked")&&(e=!1)}),e===!0&&$(this).parents(i).CTCTShow(n)})):s.each(function(){$(this).parents(i).CTCTHide(n)}),t.attr("rel",a)}}$("body").on("click",".kwslog-toggle",function(t){return $(".data",$(this).parents(".kwslog-debug")).toggle(),!1}),$(".ctct_table input[readonly], input[readonly].select-text").on("click",t),$("body").on("click",'a[rel="wp-help"]',function(){return $("#screen-meta").is(":hidden")&&$("#contextual-help-link").click(),$('#screen-meta a[href*="'+$(this).attr("href").replace("#","")+'"]').click(),!1}),$("#wpbody").css("padding-bottom",$("#wpfooter").height()),$("a[rel~=external]").attr("target","_blank"),$(".tablink").click(function(t){return t.preventDefault(),$($(this).attr("href")+"-link").click(),!1}),$(".confirm").click(function(){var t=confirm($(this).data("confirm")),e=$(this).data("confirm-again");return t?e?confirm(e):!0:!1}),$(".constant-contact_page_constant-contact-contacts .subsubsub a").click(function(t){t.preventDefault(),$(".show-if-empty").hide(),$(".subsubsub li a").removeClass("current"),$(this).addClass("current"),$(".ctct_table tr:not(.show-if-empty)").show();var e=$(this).text().toUpperCase();$(".subsubsub li a").index(this)>0&&$(".ctct_table td.column-status").not(":contains("+e+")").not(":contains("+e.replace("-","_")+")").not(":contains("+e.replace("-","")+")").parents("tr").hide(),0===$(".ctct_table td.column-status:visible").length&&$(".show-if-empty").show()}),$(".select2").select2(),$("#constant-contact_page_constant-contact-forms").ready(function(){e()}),$("#ctct-settings-tabs").tabs({show:!1,create:function(t,n){e(),a()},activate:function(t,n){e(),$(this).addClass("size-"+$(".ui-tabs-nav",$(this)).length),t.preventDefault();var i=$("a",n.newTab).attr("href").replace(/^#/,""),o,r=$("#"+i);return r.length&&(r.attr("id",""),o=$("<div></div>").css({position:"absolute",visibility:"hidden",top:$(document).scrollTop()+"px"}).attr("id",i).prependTo($("body"))),document.location.hash=i,r.length&&(o.remove(),r.attr("id",i)),a(),$(".constant-contact-api-toggle[rel]").trigger("ctct_ready"),!1},cookie:{expires:1}}),$.ajaxSetup({url:ajaxurl,type:"POST",async:!1,timeout:500}),$(".inline-edit-update").on("click submit",function(){$(this).parent("span").addClass("submitting-in-progress")}),$(".editable").attr("title",CTCT.text.editable).inlineEdit({buttons:'<button class="save button button-primary inline-edit-update">Update</button> <button class="cancel button button-secondary">Cancel</button>',cancelOnBlur:!0,placeholder:CTCT.text.editable,editInProgress:"edit-in-progress",save:function(t,e){var n=$(this);n.removeClass("edit-in-progress").addClass("saving-in-progress");var a=i(e,n);return a&&$("*[data-name="+n.data("name")+"][data-id="+n.data("id")+"]").not(n).html(e.value).each(function(){$(this).effect("highlight",{color:"#e99e23"},3e3)}),$(this).removeClass("saving-in-progress"),a}}),$(".constant-contact_page_constant-contact-contacts .ctct-lists").on("change",function(){if(0!==$(".edit-new-h2").length){var t={value:$("input",$(this)).serializeArray(),field:"lists"};i(t,$(this))}}),$(".cc_tip,.ctct_tip").each(function(){$(this).tooltip({content:function(){return $(this).prop("title")}})}),$(".fittext").fitText(1.2,{maxFontSize:50}),$(window).on("resize ready",function(){$(".component-summary dd").fitText(".9",{maxFontSize:120,minFontSize:48}),$(".component-summary").equalize({children:"dl",reset:!0})}),$(".constant-contact-api-toggle[rel]").on("click ready ctct_ready save",function(t){o($(this),t)}).each(function(t){o($(this),t)})});